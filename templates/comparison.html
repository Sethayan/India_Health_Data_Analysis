{% extends 'layouts/base.html' %}

{% block title %}Comparative View{% endblock %}

{% block content %}

<div class="page-header mb-4">
    <div class="row align-items-center">
        <div class="col">
            <h1 class="page-title">
                <i class="fa fa-exchange text-primary me-2"></i>
                Comparative View
            </h1>
        </div>
    </div>
</div>

<div id="comparison2005" class="comparison-section">

    <div class="row g-4 mb-4">
        <div class="col-xl-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-white border-0">
                    <h5 class="card-title mb-0">
                        <i class="fa fa-bar-chart text-primary me-2"></i>
                        Sub Centres: 2005 vs 2023
                    </h5>
                </div>
                <div class="card-body">
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="scComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-white border-0">
                    <h5 class="card-title mb-0">
                        <i class="fa fa-bar-chart text-success me-2"></i>
                        PHCs: 2005 vs 2023
                    </h5>
                </div>
                <div class="card-body">
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="phcComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

     <div class="row g-4 mb-4">
        <div class="col-xl-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-white border-0">
                    <h5 class="card-title mb-0">
                        <i class="fa fa-bar-chart text-info me-2"></i>
                        CHCs: 2005 vs 2023
                    </h5>
                </div>
                <div class="card-body">
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="chcComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-white border-0">
                    <h5 class="card-title mb-0">
                        <i class="fa fa-user-md text-warning me-2"></i>
                        Doctors at PHCs: 2005 vs 2023
                    </h5>
                </div>
                <div class="card-body">
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="doctorsComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
        
</div>

{% endblock %} 

{% block extra_js %}
<script src="{{ url_for('static', filename='js/comparison_view.js') }}"></script>
<script>
    const comparisonData = {{ comparison_data | safe }};
    const yearlyData = {{ yearly_data | safe }};
    
    $(document).ready(function() {
        initComparisonCharts(comparisonData, yearlyData);
        
        
    });
</script>
{% endblock %}  


